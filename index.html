<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Yahoo Finance API Wrapper • yfinancer</title>
<script src="lightswitch.js"></script><script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Yahoo Finance API Wrapper">
<meta name="description" content="Download financial market data, company information, financial statements, options data, and more from the unofficial Yahoo Finance API.">
<meta property="og:description" content="Download financial market data, company information, financial statements, options data, and more from the unofficial Yahoo Finance API.">
<meta property="og:image" content="https://gacolitti.github.io/yfinancer/logo.png">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">yfinancer</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.3.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/gacolitti/yfinancer/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="yfinancer-">yfinancer 
<a class="anchor" aria-label="anchor" href="#yfinancer-"></a>
</h1>
</div>
<p><code>yfinancer</code> provides access to Yahoo Finance’s API, offering functions to download historical prices, company information, and financial statements.</p>
<!-- badges: start -->

<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the released version of yfinancer from <a href="https://CRAN.R-project.org" class="external-link">CRAN</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"yfinancer"</span><span class="op">)</span></span></code></pre></div>
<p>You can install the development version of yfinancer from <a href="https://github.com/gacolitti/yfinancer" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"gacolitti/yfinancer"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="usage-examples">Usage Examples<a class="anchor" aria-label="anchor" href="#usage-examples"></a>
</h2>
<div class="section level3">
<h3 id="working-with-a-single-ticker">Working with a Single Ticker<a class="anchor" aria-label="anchor" href="#working-with-a-single-ticker"></a>
</h3>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get a ticker object for Apple Inc.</span></span>
<span><span class="va">apple</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_tickers.html">get_tickers</a></span><span class="op">(</span><span class="st">"AAPL"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get historical market data (default: 1 month of daily data)</span></span>
<span><span class="va">history</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_history.html">get_history</a></span><span class="op">(</span><span class="va">apple</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get 1 year of daily data</span></span>
<span><span class="va">history_1y</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_history.html">get_history</a></span><span class="op">(</span><span class="va">apple</span>, period <span class="op">=</span> <span class="st">"1y"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get 1 month of hourly data</span></span>
<span><span class="va">history_hourly</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_history.html">get_history</a></span><span class="op">(</span><span class="va">apple</span>, period <span class="op">=</span> <span class="st">"1mo"</span>, interval <span class="op">=</span> <span class="st">"1h"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get data for a custom date range</span></span>
<span><span class="va">history_custom</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_history.html">get_history</a></span><span class="op">(</span></span>
<span>  <span class="va">apple</span>, </span>
<span>  start <span class="op">=</span> <span class="st">"2022-01-01"</span>, </span>
<span>  end <span class="op">=</span> <span class="st">"2022-12-31"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get company information</span></span>
<span><span class="va">info</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_info.html">get_info</a></span><span class="op">(</span><span class="va">apple</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get financial statements</span></span>
<span><span class="co"># Annual statements (default)</span></span>
<span><span class="va">income_stmt</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_income_statement.html">get_income_statement</a></span><span class="op">(</span><span class="va">apple</span><span class="op">)</span></span>
<span><span class="va">balance_sheet</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_balance_sheet.html">get_balance_sheet</a></span><span class="op">(</span><span class="va">apple</span><span class="op">)</span></span>
<span><span class="va">cash_flow</span> <span class="op">&lt;-</span> <span class="fu">get_cash_flow</span><span class="op">(</span><span class="va">apple</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get all financial statements at once</span></span>
<span><span class="va">financials</span> <span class="op">&lt;-</span> <span class="fu">get_financial_statements</span><span class="op">(</span><span class="va">apple</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Quarterly statements</span></span>
<span><span class="va">quarterly_income</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_income_statement.html">get_income_statement</a></span><span class="op">(</span><span class="va">apple</span>, freq <span class="op">=</span> <span class="st">"quarterly"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="working-with-multiple-tickers">Working with Multiple Tickers<a class="anchor" aria-label="anchor" href="#working-with-multiple-tickers"></a>
</h3>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get multiple tickers</span></span>
<span><span class="va">tech_tickers</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_tickers.html">get_tickers</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"AAPL"</span>, <span class="st">"MSFT"</span>, <span class="st">"GOOG"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get historical data for all tickers</span></span>
<span><span class="va">tech_history</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_tickers_history.html">get_tickers_history</a></span><span class="op">(</span><span class="va">tech_tickers</span>, period <span class="op">=</span> <span class="st">"1y"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get company information for all tickers</span></span>
<span><span class="va">tech_info</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_tickers_info.html">get_tickers_info</a></span><span class="op">(</span><span class="va">tech_tickers</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="search-for-tickers">Search for Tickers<a class="anchor" aria-label="anchor" href="#search-for-tickers"></a>
</h3>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Search for companies with "tech" in their name</span></span>
<span><span class="va">tech_search</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/search_tickers.html">search_tickers</a></span><span class="op">(</span><span class="st">"tech"</span>, limit <span class="op">=</span> <span class="fl">20</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Search with news results</span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/search_tickers.html">search_tickers</a></span><span class="op">(</span><span class="st">"Apple"</span>, quotes_only <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="va">quotes</span> <span class="op">&lt;-</span> <span class="va">results</span><span class="op">$</span><span class="va">quotes</span></span>
<span><span class="va">news</span> <span class="op">&lt;-</span> <span class="va">results</span><span class="op">$</span><span class="va">news</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="authentication">Authentication<a class="anchor" aria-label="anchor" href="#authentication"></a>
</h2>
<p>Yahoo Finance requires two key authentication components for API access of certain endpoints:</p>
<ol style="list-style-type: decimal">
<li>
<strong>A1 Cookie</strong>: A session cookie that identifies your session with Yahoo Finance</li>
<li>
<strong>Crumb</strong>: A security token that must be included with each request</li>
</ol>
<p>The authentication process in <code>yfinancer</code> follows these steps:</p>
<ol style="list-style-type: decimal">
<li>
<strong>Environment Variables (first priority)</strong>:
<ul>
<li>Checks for <code>YFINANCE_CRUMB</code> and <code>YFINANCE_A1</code> environment variables</li>
<li>If both are present, uses these values directly</li>
</ul>
</li>
<li>
<strong>Authentication File (second priority)</strong>:
<ul>
<li>If environment variables aren’t available, checks for an existing auth file at <code>~/.yfinance/auth</code>
</li>
<li>If a valid auth file exists, uses the stored values</li>
</ul>
</li>
<li>
<strong>Dynamic Authentication (fallback)</strong>:
<ul>
<li>If no valid auth exists, generates new authentication:
<ul>
<li>Gets an A1 cookie using curl_chrome110 to mimic a browser request</li>
<li>Uses the A1 cookie to request a crumb from Yahoo Finance</li>
<li>Stores these values in <code>~/.yfinance/auth</code> for future use</li>
</ul>
Curl impersonate must be installed for this to work. See: <a href="https://github.com/lwthiker/curl-impersonate" class="external-link uri">https://github.com/lwthiker/curl-impersonate</a>.</li>
</ul>
</li>
</ol>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Set environment variables for authentication</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.setenv</a></span><span class="op">(</span>YFINANCE_CRUMB <span class="op">=</span> <span class="st">"your-crumb-value"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.setenv</a></span><span class="op">(</span>YFINANCE_A1 <span class="op">=</span> <span class="st">"your-a1-cookie-value"</span><span class="op">)</span></span></code></pre></div>
<p>This environment variable approach is useful for: - Avoiding authentication failures in automated environments - Testing with specific authentication values</p>
<p>Currently, only the <code><a href="reference/get_info.html">get_info()</a></code> function requires authentication.</p>
</div>
<div class="section level2">
<h2 id="core-features-and-components">Core Features and Components<a class="anchor" aria-label="anchor" href="#core-features-and-components"></a>
</h2>
<p><code>yfinancer</code> provides access to the following information:</p>
<ol style="list-style-type: decimal">
<li>
<strong>Ticker Functions</strong>: Access single ticker data
<ul>
<li>Historical market data (OHLCV)</li>
<li>Basic company information</li>
<li>Financial statements (income statement, balance sheet, cash flow)</li>
<li>Dividends and stock splits</li>
<li>Options data</li>
<li>Analyst recommendations and price targets</li>
<li>News</li>
</ul>
</li>
<li>
<strong>Market Information</strong>:
<ul>
<li>Company profile and asset information</li>
<li>Key statistics (PE, EPS, EBITDA, enterprise value, etc.)</li>
<li>Financial KPIs (revenue, margins, cash flow metrics)</li>
<li>Future earnings dates and earnings history</li>
<li>ESG scores (environmental, social, governance metrics)</li>
<li>Ownership data (insider, institutional, fund)</li>
<li>Insider transactions</li>
<li>Analyst recommendations and upgrade/downgrade history</li>
<li>SEC filings</li>
<li>And more (over 30 different data modules available)</li>
</ul>
</li>
<li>
<strong>Search Functionality</strong>:
<ul>
<li>Search for quotes</li>
<li>Get news from search</li>
</ul>
</li>
</ol>
</div>
<div class="section level2">
<h2 id="legal-disclaimer">Legal Disclaimer<a class="anchor" aria-label="anchor" href="#legal-disclaimer"></a>
</h2>
<p>Yahoo!, Y!Finance, and Yahoo! Finance are registered trademarks of Yahoo, Inc. yfinancer is not affiliated, endorsed, or vetted by Yahoo, Inc. It’s an open-source tool that uses Yahoo’s publicly available APIs, and is intended for research and educational purposes. Users should refer to Yahoo!’s terms of use for details on rights to use the actual data downloaded.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=yfinancer" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/gacolitti/yfinancer/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/gacolitti/yfinancer/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing yfinancer</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Giovanni Colitti <br><small class="roles"> Author, maintainer, copyright holder </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://CRAN.R-project.org/package=yfinancer" class="external-link"><img src="https://www.r-pkg.org/badges/version/yfinancer" alt="CRAN status"></a></li>
<li><a href="https://github.com/gacolitti/yfinancer/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/gacolitti/yfinancer/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://app.codecov.io/gh/gacolitti/yfinancer" class="external-link"><img src="https://codecov.io/gh/gacolitti/yfinancer/graph/badge.svg" alt="Codecov test coverage"></a></li>
<li><a href="https://github.com/gacolitti/yfinancer" class="external-link"><img src="https://img.shields.io/badge/experimental-orange.svg" alt="experimental"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Giovanni Colitti.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
